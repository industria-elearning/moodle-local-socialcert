define("local_socialcert/airesponse",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(selector,endpoint,token,payload){const btn=document.querySelector(selector);if(!btn)return;btn.addEventListener("click",(async()=>{btn.disabled=!0;try{const data=await async function(endpoint,token,payload){const res=await fetch(endpoint,{method:"POST",headers:{Authorization:"Bearer ".concat(token),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(payload)});if(!res.ok){const text=await res.text();throw new Error("HTTP ".concat(res.status,": ").concat(text))}try{return await res.json()}catch(e){return await res.text()}}(endpoint,token,payload);alert("string"==typeof data?data:JSON.stringify(data))}catch(err){alert(err.message)}finally{btn.disabled=!1}}))}}));

//# sourceMappingURL=airesponse.min.js.map