define("local_socialcert/actions",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.handleSelectNetwork=handleSelectNetwork,_exports.init=function(){const root=document.querySelector(".local-socialcert");if(!root)return;register("select-network",handleSelectNetwork),updateVisibility(root),register("open-link",handleOpenLink),register("copy-html",handleCopyHtml),register("copy-image",handleCopyImage),function(root,selector,type,handler){root.addEventListener(type,(ev=>{const target=ev.target.closest(selector);target&&root.contains(target)&&handler(ev,target)}))}(root,"[data-action]","click",((ev,el)=>{const action=el.dataset.action,fn=registry.get(action);fn&&fn(ev,el)})),updateVisibility(root)},_exports.register=register;const registry=new Map;function updateVisibility(root){const current=root.dataset.network||"";root.querySelectorAll("[data-visible-on]").forEach((el=>{(el.getAttribute("data-visible-on")||"").split(/\s+/).includes(current)?el.classList.remove("d-none"):el.classList.add("d-none")}))}function handleSelectNetwork(ev,el){ev.preventDefault();const root=el.closest(".local-socialcert");if(!root)return;const next=el.dataset.network;if(!next)return;root.dataset.network=next;const group=el.closest(".lsc-social-tabs");group&&group.querySelectorAll('[data-action="select-network"]').forEach((b=>{b.classList.toggle("active",b===el),b.setAttribute("aria-selected",b===el?"true":"false")})),updateVisibility(root)}function handleOpenLink(ev,el){ev.preventDefault(),el.setAttribute("aria-busy","true");const url=el.getAttribute("href")||el.dataset.url;url&&window.open(url,"_blank","noopener"),setTimeout((()=>el.removeAttribute("aria-busy")),300)}function handleCopyHtml(_ev,el){const sel=el.dataset.target||"",node=sel?document.querySelector(sel):null;if(!node)return;const html=node.innerHTML;navigator.clipboard.writeText(html).catch((()=>{}))}function handleCopyImage(_ev,el){const sel=el.dataset.target||"",img=sel?document.querySelector(sel):null;if(!img)return;const src=img.getAttribute("src");src&&navigator.clipboard.writeText(src)}function register(name,fn){registry.set(name,fn)}}));

//# sourceMappingURL=actions.min.js.map